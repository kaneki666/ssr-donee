(this.webpackJsonpdonee=this.webpackJsonpdonee||[]).push([[28],{2050:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var o=n(1957),i=Object(o.a)((function(e){return{commenterDate:{color:"#6C757D",fontSize:14,fontWeight:300},commenterComment:{color:"#6C757D",fontSize:14,fontWeight:300},commentername:{color:"#343A40",fontSize:16,fontWeight:600},donateButton:{color:"linear-gradient(90deg, #0077B6 23.6%, #32B2ED 100%)"},imageContainer:{padding:e.spacing(3,2),minHeight:"100vh",display:"flex",flexDirection:"column",justifyContent:"center",backgroundColor:"#343A40"},infoContainer:{padding:e.spacing(3,2),minHeight:"100vh",display:"flex",flexDirection:"column",justifyContent:"center"},buttonIcon:{margin:e.spacing(0),maxWidth:100},infoTitle:{color:"#343A40",fontWeight:500,fontSize:16},moneyGot:{color:"#4F89A0",fontWeight:800,fontSize:24},moneyGotSub:{color:"#48CAE4",fontWeight:400,fontSize:16},doneLogo:{position:"absolute",left:10,top:10,height:35,width:130},title:{color:"#007AFF",fontSize:20,fontWeight:600,textTransform:"capitalize"},titleEndorse:{color:"#6C757D",fontSize:13,fontWeight:400,textTransform:"capitalize"},titleEndorseBy:{color:"#007AFF",fontSize:13,fontWeight:400,textTransform:"capitalize"},submit:{"&.MuiButton-outlinedSecondary":{border:"2px solid",borderImageSlice:1,borderImageSource:"linear-gradient(to left, #007AFF, #6EEDD6)",borderRadius:4},color:"#007AFF"},closeLogo:{position:"absolute",right:10,top:10,height:25,width:25},media:{height:550,borderRadius:7,borderWidth:3,borderColor:"#A317E4",borderStyle:"solid"},avatar:{height:60,width:60,borderRadius:30},avatarSmall:{height:25,width:25},avatarSmallForComment:{height:25,width:25,marginTop:-12}}}))},2075:function(e,t,n){"use strict";n(1);var o=n(346),i=n(66),a=n(2050),r=n(25),c=n(0);t.a=function(e){var t=e.userName,n=e.image,s=e.endorser,l=e.profileID,d=Object(a.a)(),u=Object(r.g)();return Object(c.jsx)("div",{children:Object(c.jsxs)(o.a,{container:!0,direction:"row",justifyContent:"flex-start",alignItems:"center",children:[Object(c.jsx)("div",{children:Object(c.jsx)("img",{className:d.avatar,src:n,alt:"Paella dish"})}),Object(c.jsx)("div",{style:{width:20}}),Object(c.jsxs)(o.a,{children:[Object(c.jsx)("div",{onClick:function(){return u("../../profiledetailother",{state:{goalID:l}})},children:Object(c.jsxs)(i.a,{style:{cursor:"pointer"},variant:"body1",gutterBottom:!0,className:d.title,children:["@",t]})}),Object(c.jsxs)(i.a,{variant:"body1",gutterBottom:!0,className:d.titleEndorse,children:["Endorsed By"," ",Object(c.jsxs)("span",{style:{cursor:"pointer"},className:d.titleEndorseBy,children:["@",s]})]})]})]})})}},2077:function(e,t,n){"use strict";var o=n(10),i=n.n(o),a=n(18),r=n(346),c=n(66),s=n(190),l=n(234),d=n(1),u=n.p+"static/media/comment.024c9246.svg",j=n(2059),g=n(2060),m=n(2061),b=n(2062),h=n(1957),f=n(2031),x=n(0),O=Object(h.a)({root:{height:10,borderRadius:5},bar:{borderRadius:5,background:"linear-gradient(90deg, #006EFF 0%, #4CC9F0 50.73%, #6EEDD6  100%)"}});function p(e){var t=e.percentage,n=O();return Object(x.jsx)("div",{className:n.root,children:Object(x.jsx)(f.a,{classes:{root:n.root,bar:n.bar},variant:"determinate",value:t})})}var v=n(2050),y=n(38),w=n(81),A=n(25),C=n(68),I=n(2063);t.a=function(e){var t=e.goalID,n=e.isLiked,o=e.isSaved,h=e.title,f=e.total_amount,O=e.paid_amount,_=e.supporters,S=e.total_donor,k=(e.goal_likes,e.comments,e.handleNewComment),N=e.total_like_count,B=e.total_comment_count,E=e.slug,R=Object(y.c)((function(e){return e.AuthReducer})),L=Object(A.g)(),D=Object(v.a)(),z=100*parseInt(O||"0")/parseInt(f||"0"),F=Object(d.useRef)(null),U=function(){var e=Object(a.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:R.isLoggedIn&&t?Object(w.n)(t,R.userInfo.access).then((function(e){!0===e.is_like||!1===e.is_like?k():M("Something went wrong")})):L("../login");case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Q=function(){var e=Object(a.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:R.isLoggedIn&&t?Object(w.o)(t,R.userInfo.access).then((function(e){!0===e.is_saved||!1===e.is_saved?k():M("Something went wrong")})):L("../login");case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),M=function(e){var t;null===(t=F.current)||void 0===t||t.call(F,e)},W=function(e){null!==e&&L("../profiledonorother",{state:{goalID:e}})};return Object(x.jsxs)(r.a,{container:!0,direction:"column",justifyContent:"flex-start",style:{padding:40},children:[Object(x.jsx)(C.a,{children:function(e){F.current=e}}),Object(x.jsx)(c.a,{variant:"body1",gutterBottom:!0,className:D.infoTitle,children:h}),Object(x.jsxs)(c.a,{variant:"body1",gutterBottom:!0,className:D.moneyGot,align:"left",children:["US $",Number(O).toLocaleString()," ",Object(x.jsxs)("span",{className:D.moneyGotSub,children:[" ","of US $",Number(f).toLocaleString()]})]}),Object(x.jsx)(p,{percentage:z}),Object(x.jsx)("div",{style:{height:20}}),Object(x.jsx)(r.a,{container:!0,direction:"row",justifyContent:"flex-start",alignItems:"center",children:void 0!==_&&(null===_||void 0===_?void 0:_.length)>=1&&(null===_||void 0===_?void 0:_.length)>=5?null===_||void 0===_?void 0:_.slice(0,6).map((function(e){return Object(x.jsx)(s.a,{onClick:function(){return W(e.user.id)},src:e.user.image,sx:{height:50,width:50,marginRight:1,cursor:"pointer"}})})):null===_||void 0===_?void 0:_.map((function(e){return Object(x.jsx)(s.a,{onClick:function(){return W(e.user.id)},src:e.user.image,sx:{height:50,width:50,marginRight:1,cursor:"pointer"}})}))}),void 0!==_&&(null===_||void 0===_?void 0:_.length)>=1&&S&&Object(x.jsxs)(c.a,{variant:"body1",pt:1,pb:1,style:{cursor:"pointer"},className:D.titleEndorseBy,onClick:function(){return W(_[0].user.id)},children:["@",_[0].user.username," ",Object(x.jsxs)("span",{style:{color:"#000000",cursor:"default"},children:[" ","0"!==S?"and ".concat(S," more people"):""," donate to this goal"," "]})]}),Object(x.jsxs)(r.a,{container:!0,direction:"row",justifyContent:"space-between",alignItems:"center",children:[Object(x.jsx)(l.a,{onClick:U,className:D.buttonIcon,startIcon:Object(x.jsx)("img",{src:R.isLoggedIn&&n?g.a:j.a,alt:"logo",className:"cardIcons"}),children:N}),Object(x.jsx)(l.a,{className:D.buttonIcon,startIcon:Object(x.jsx)("img",{src:u,alt:"logo",className:"cardIcons"}),children:B}),Object(x.jsx)(l.a,{onClick:Q,className:D.buttonIcon,startIcon:Object(x.jsx)("img",{src:R.isLoggedIn&&o?b.a:m.a,style:{height:30,width:30},alt:"logo",className:"cardIcons"})}),Object(x.jsx)(I.a,{url:"".concat(w.c,"/viewgoal/").concat(E),image:"https://donee.s3.amazonaws.com/media/images/goal_images/photo-1488521787991-ed7bbaae773c_e4nGOZ5.jpeg"})]})]})}},2303:function(e,t){t.__esModule=!0,t.default={body:'<path d="M724 218.3V141c0-6.7-7.7-10.4-12.9-6.3L260.3 486.8a31.86 31.86 0 0 0 0 50.3l450.8 352.1c5.3 4.1 12.9.4 12.9-6.3v-77.3c0-4.9-2.3-9.6-6.1-12.6l-360-281l360-281.1c3.8-3 6.1-7.7 6.1-12.6z" fill="currentColor"/>',width:1024,height:1024}},2304:function(e,t){t.__esModule=!0,t.default={body:'<path d="M765.7 486.8L314.9 134.7A7.97 7.97 0 0 0 302 141v77.3c0 4.9 2.3 9.6 6.1 12.6l360 281.1l-360 281.1c-3.9 3-6.1 7.7-6.1 12.6V883c0 6.7 7.7 10.4 12.9 6.3l450.8-352.1a31.96 31.96 0 0 0 0-50.4z" fill="currentColor"/>',width:1024,height:1024}},2353:function(e,t,n){"use strict";n.r(t);var o=n(10),i=n.n(o),a=n(18),r=n(8),c=n(1),s=n(346),l=n(25),d=n(236),u=n(34),j=n(2074),g=n.n(j),m=n(33),b=n(2303),h=n.n(b),f=n(2304),x=n.n(f),O=n.p+"static/media/doneblue.a4dc1eea.svg",p=n.p+"static/media/close.21c639ae.svg",v=n(2050),y=n(9),w=n(234),A=n(66),C=n(188),I=n(2018),_=n(2025),S=n(2026),k=n(190),N=n(240),B=n.p+"static/media/doantebutton.dacb83f6.svg",E=n(2104),R=n(2103),L=n(2077),D=n(2075),z=n(69),F=n(220),U=n(81),Q=n(38),M=n(68),W=n(0),V=function(e){var t,n=e.data,o=e.handleNewComment,d=Object(l.g)(),u=Object(Q.c)((function(e){return e.AuthReducer})),j=Object(c.useRef)(null),g=Object(c.useState)({goal:n.id,text:"",error:""}),m=Object(r.a)(g,2),b=m[0],h=m[1],f=function(){var e=Object(a.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:""===b.text?(h(Object(y.a)(Object(y.a)({},b),{},{error:"Comment can't be empty!"})),O("Comment can't be empty!")):Object(U.a)(b,u.userInfo.access).then((function(e){"number"===typeof e.goal&&o()})).catch((function(){return O("Something went wrong!")}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),x=function(){var e=Object(a.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:u.isLoggedIn&&n.profile?Object(U.l)("profile-follow",n.profile,u.userInfo.access).then((function(e){!0===e.is_followed||!1===e.is_followed?o():O("Something went wrong")})):d("../login");case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),O=function(e){var t;null===(t=j.current)||void 0===t||t.call(j,e)};return Object(W.jsx)(z.a,{sx:{height:"100vh","& .simplebar-content":{height:"100%",display:"flex",flexDirection:"column"}},children:Object(W.jsxs)("div",{style:{display:"flex",flexDirection:"column",height:"100%",padding:20},children:[Object(W.jsx)(M.a,{children:function(e){j.current=e}}),Object(W.jsxs)("div",{style:{flex:.5},children:[Object(W.jsxs)(s.a,{container:!0,direction:"row",justifyContent:"space-between",alignItems:"center",children:[Object(W.jsx)(D.a,{profileID:n.profile,userName:n.profile_username,image:n.profile_image,endorser:n.ngo_username}),Object(W.jsx)(w.a,{onClick:x,"aria-label":"share",children:Object(W.jsx)("img",{src:u.isLoggedIn&&n.is_followed?E.a:R.a,style:{width:80}})})]}),Object(W.jsxs)(s.a,{container:!0,direction:"row",justifyContent:"flex-start",alignItems:"center",children:[Object(W.jsx)("div",{}),Object(W.jsx)("div",{style:{paddingLeft:80},children:n.goal_sdgs&&(null===(t=n.goal_sdgs)||void 0===t?void 0:t.map((function(e){return Object(W.jsxs)(A.a,{variant:"caption",sx:{color:"#6C757D"},children:["#",e.title]},e.title)})))})]}),Object(W.jsx)(L.a,{slug:n.slug,goalID:n.id,isLiked:null===n||void 0===n?void 0:n.is_liked,isSaved:null===n||void 0===n?void 0:n.is_saved,title:n.title,total_amount:n.total_amount,paid_amount:n.paid_amount,supporters:n.goal_payment,total_donor:n.donor_count,goal_likes:n.goal_likes,comments:n.goal_comment,handleNewComment:o,total_like_count:n.total_like_count,total_comment_count:n.total_comment_count})]}),"ACTIVE"===n.status&&Object(W.jsx)("img",{src:B,alt:"logo",style:{paddingLeft:50,paddingRight:50,paddingBottom:20,cursor:"pointer"},onClick:function(){return d("../donate",{state:{slug:n.slug}})}}),Object(W.jsxs)("div",{style:{flex:.5},children:[Object(W.jsx)(s.a,{container:!0,direction:"row",justifyContent:"flex-start",alignItems:"center",style:{paddingTop:20},children:Object(W.jsx)("div",{style:{width:20}})}),Object(W.jsx)(N.a,{style:{maxHeight:400},children:Object(W.jsxs)(C.a,{direction:"column",justifyContent:"center",alignItems:"flex-start",spacing:2,p:3,sx:{backgroundColor:"#F8F9FA"},children:[void 0!==n&&n.goal_comment.length>0&&n.goal_comment.map((function(e){return Object(W.jsx)(J,{comment:e})})),u.isLoggedIn&&Object(W.jsx)(I.a,{id:"write_comment",inputProps:{style:{color:"black"}},fullWidth:!0,value:b.text,placeholder:"Write a comment...",onKeyPress:function(e){"Enter"==e.key&&f()},onChange:function(e){return h(Object(y.a)(Object(y.a)({},b),{},{text:e.target.value,error:""}))},endAdornment:Object(W.jsx)(_.a,{position:"end",children:Object(W.jsx)(S.a,{"aria-label":"send message",onClick:f,edge:"end",children:Object(W.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAAZCAYAAAAv3j5gAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAJaSURBVHgB7VVdbtNAEJ5Z230AIYUb+AbkBqQ3cE/Q8FoF1VUJlSDBRS2VUIJwSIN4o5yg4QS0J8A5Qc07Uozap9q7w6ydgEN+G4U+9ZPs3R2P5/vmRzbAHe5w28DKbs1BxMeEGIKSPSUo+tg4CmDFQHfPsxOlLsYfkSaLkDBYhQjUt6fV+gUB2HwIeS1Ads3AzUVkRM/r74nARQK/3TzYcV23IK0HjxCVrRTagFjk4Da72zcRASh77cbRibaa2TPZAzCAkEqu6xWurdgWKnlIwiogUIG0IsQCkdZFMKdIRX1XCLaMZWtoTYmM2OomlvqsnXjtCyYFkSqANLbeEfwhSUtM2SUQIvZ1eG/n6tS1ri+fdHw/+msaoFKtf+OlNDiyA4WkMNCBUKgAlBFJWgs672o/Uv/dlyUwxDZzOyMJEe0fNw9fj+U53Gy5L4po3Otb8ucvP6ckD13WxKJNjubkRA0RcTCn3Tg4n/QuwgLYqnpFg9QmT1iZSSYMAwVJHG988t+G02LMJErLI4QHOfXcpZBfsnMBToz4cmdaFYYw/zVk5VEuh9geUU90hkp9QdP0iIaTR267cdiCBYCjGdQcEHiaM0VM4JvJVSsx7hdBGKeQjXvIQ1me1o+5GSlhcACV7gUp50PzzddUQLW+z4uXjTcFkvvRmdGPuRllQV/105IptW5KM+Ay6gxLqfPgywFLQIwzU1evJMSmXKPvA5Io7ceSJBOJAOR5Rghlbrqt+6FArh8v2PRpGJs6Q1hn/NvIDjxpVnK1MW90l4b+bVSe1Tz433DdPRtWjN/pMip4X+jZlQAAAABJRU5ErkJggg==",style:{height:25,width:25},alt:"SendMessageIcon"})})})}),""!==b.error&&Object(W.jsx)(A.a,{variant:"body1",sx:{color:"red"},children:b.error})]})})]})]})})},J=function(e){var t=e.comment,n=Object(v.a)();return Object(W.jsxs)(s.a,{container:!0,direction:"row",justifyContent:"flex-start",style:{padding:20},children:[Object(W.jsx)(k.a,{sx:{height:50,width:50},src:t.profile_image,alt:"Avatar1"}),Object(W.jsx)("div",{style:{width:20}}),Object(W.jsx)(C.a,{direction:"column",justifyContent:"center",alignItems:"center",children:Object(W.jsx)(s.a,{item:!0,children:Object(W.jsxs)(s.a,{container:!0,direction:"column",justifyContent:"flex-start",alignItems:"flex-start",children:[Object(W.jsx)(A.a,{variant:"body1",gutterBottom:!0,className:n.commentername,children:t.user}),Object(W.jsx)(A.a,{variant:"body1",gutterBottom:!0,className:n.commenterComment,children:t.text}),Object(W.jsx)(A.a,{variant:"body1",gutterBottom:!0,className:n.commenterDate,children:Object(F.a)(t.created_at)})]})})})]})},P=(n(357),n(127)),T=n(235),G=n(92),K=n(2035),Y=n(351),H=n(67);t.default=function(){var e=Object(v.a)(),t=Object(l.g)(),n=Object(l.f)(),o=Object(l.h)().slug,j=Object(Q.c)((function(e){return e.AuthReducer})),b=n.state?n.state.index:0,f=Object(c.useState)(!1),y=Object(r.a)(f,2),w=y[0],A=y[1],C=Object(c.useState)(b||0),I=Object(r.a)(C,2),_=I[0],S=I[1],k=Object(c.useState)(""),N=Object(r.a)(k,2),B=N[0],E=N[1],R=Object(c.useState)(!1),L=Object(r.a)(R,2),D=L[0],F=L[1],U=Object(H.a)(),M=Object(u.useQuery)(["getSingleGoal",[o,j.isLoggedIn?j.userInfo.access:"",D]],Object(a.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,U.get("/retrieve-goal/".concat(o));case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})))),J=M.data,Z=M.isError,X=M.isLoading;M.error;Object(c.useEffect)((function(){(""===o&&null!==J||"Not found."===(null===J||void 0===J?void 0:J.detail))&&t("../")}),[o,J]),Object(c.useEffect)((function(){void 0!==J&&null!==J&&J.goal_media&&J.goal_media.length>0&&E(_?null===J||void 0===J?void 0:J.goal_media[_].file:null===J||void 0===J?void 0:J.goal_media[0].file)}),[J]);var q=Object(K.b)(),$=q.height;q.width;return Object(W.jsx)("div",{children:Object(W.jsx)(Y.a,{children:X?Object(W.jsx)(P.a,{}):Object(W.jsx)("div",{children:Z?Object(W.jsx)(G.a,{error:new Error("Network Error")}):void 0!==J&&null!==J&&Object(W.jsx)(d.ErrorBoundary,{fallbackRender:function(e){var t=e.error,n=e.resetErrorBoundary;return Object(W.jsx)(T.a,{error:t,resetErrorBoundary:n})},onReset:function(){return A(!1)},resetKeys:[w],children:Object(W.jsxs)(s.a,{container:!0,direction:"row",children:[Object(W.jsx)(s.a,{item:!0,xs:12,sm:8,children:Object(W.jsxs)(z.a,{sx:{height:"100vh","& .simplebar-content":{height:"100%",display:"flex",flexDirection:"column"}},children:[Object(W.jsx)("img",{onClick:function(){return t("../")},className:e.doneLogo,src:O,alt:"Paella dish"}),Object(W.jsx)("img",{onClick:function(){return t("../../")},className:e.closeLogo,src:p,alt:"Paella dish"}),Object(W.jsx)(s.a,{container:!0,justifyContent:"center",alignItems:"center",alignContent:"center",className:e.imageContainer,sx:{pt:10},children:Object(W.jsxs)(s.a,{container:!0,direction:"row",justifyContent:"center",alignItems:"center",spacing:2,children:[Object(W.jsx)(s.a,{item:!0,md:1,children:void 0!==J&&_>=1&&Object(W.jsx)(m.a,{icon:h.a,color:"white",height:40,width:40,onClick:function(){if(void 0!==J){var e=_-1;S(e),E(null===J||void 0===J?void 0:J.goal_media[e].file)}}})}),Object(W.jsx)(s.a,{item:!0,md:10,style:{maxHeight:$-100},children:Object(W.jsx)(g.a,{className:"react-player",width:"100%",height:$-100,url:B,loop:!0,playing:!0,controls:!0,config:{file:{attributes:{controlsList:"nodownload noplaybackrate",disablePictureInPicture:"true"}}}})}),Object(W.jsx)(s.a,{item:!0,md:1,children:void 0!==J&&J.goal_media.length>1&&_<J.goal_media.length-1&&Object(W.jsx)(m.a,{icon:x.a,color:"white",height:40,width:40,onClick:function(){if(void 0!==J&&_<J.goal_media.length-1){var e=_+1;S(e),E(null===J||void 0===J?void 0:J.goal_media[e].file)}}})})]})})]})}),Object(W.jsx)(s.a,{item:!0,xs:12,sm:4,children:void 0!==J&&Object(W.jsx)(V,{data:J,handleNewComment:function(){return F(!D)}})})]})})})})})}}}]);
//# sourceMappingURL=28.d2f1a4a2.chunk.js.map