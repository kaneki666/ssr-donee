(this.webpackJsonpdonee=this.webpackJsonpdonee||[]).push([[25],{2045:function(e,r,t){"use strict";t.d(r,"a",(function(){return n}));var n={formId:"createGoalForm",formField:{goalname:{name:"goalname",label:"Goal Name",requiredErrorMsg:"Goal Name is required",minError:"Too Short, 10 character minimum",maxError:"Too long, 25 character max"},file:{name:"file",label:"Image File*",requiredErrorMsg:"File is Required",fileFormatError:"Unsupported Format",fileMaxError:"File too large"},shortGoal:{name:"shortGoal",label:"Short Goal*",requiredErrorMsg:"Short Goal is required",minError:"Too Short, 30 character minimum",maxError:"Too long, 150 character max"},topics:{name:"topic",label:"Choose topic of your goal*",requiredErrorMsg:"Topic is required",minError:"1 Topic is required minimum"},product:{name:"product",label:"What are you buying?",requiredErrorMsg:"Product Name is required"},productlink:{name:"productlink",label:"Where do you get it? Paste a link",requiredErrorMsg:"Product Link is required"},productunitcost:{name:"unitcost",label:"Unit Cost in Dollar",requiredErrorMsg:"Unit cost is required",minError:"Unit cost must be greater than 0"},productunitnumber:{name:"unitnumber",label:"How many units?",requiredErrorMsg:"Unit is required",minError:"Unit must be greater than 0"},productsubtotal:{name:"productsubtotal",label:"Sub Total",requiredErrorMsg:"Sub Total is required"},productpgwfee:{name:"productpgwfee",label:"PGW fee",requiredErrorMsg:"product pgw fee is required"},productngofee:{name:"productngofee",label:"NGO fee",requiredErrorMsg:"product ngo fee is required"},productplatformfee:{name:"productplatformfee",label:"Platform fee",requiredErrorMsg:"product platform fee is required"},productgoaltotal:{name:"productgoaltotal",label:"Total Goal Cost",requiredErrorMsg:"Total Goal is required"},videofile:{name:"videofile",label:"Video",requiredErrorMsg:"Video is Required",fileFormatError:"'Unsupported Format'",fileMaxError:"Video too large,less than 100 MB"},full_description:{name:"full_description",label:"Full Description",requiredErrorMsg:"Full description is required",minError:"100 character minimum"}}}},2048:function(e,r,t){"use strict";t.d(r,"e",(function(){return d})),t.d(r,"d",(function(){return m})),t.d(r,"b",(function(){return f})),t.d(r,"c",(function(){return b})),t.d(r,"a",(function(){return p})),t.d(r,"f",(function(){return P}));var n,i,a,o=t(6),c=t(2064),u=t(2045),s=5e6,l=["image/jpg","image/jpeg","image/gif","image/png","image/PNG","image/webp","image/svg"],d=c.e().shape({email:c.g().email().required("Email is required"),password:c.g().required("Password is required").min(6,"Minimum 6 Characters").when("email",{is:function(e){return!!(e&&e.length>6)},then:c.g().not([c.f("email")],"Password can not be email")}),confirmPassword:c.g().when("password",{is:function(e){return!!(e&&e.length>0)},then:c.g().oneOf([c.f("password")],"Both password need to be the same")})}),m=c.e().shape({email:c.g().email().required("Email is required"),password:c.g().required("Password is required").min(6,"Minimum 6 Characters").when("email",{is:function(e){return!!(e&&e.length>6)},then:c.g().not([c.f("email")],"Password can not be email")})}),f=[c.e().shape({username:c.g().matches(/^(\S+$)/,"This field cannot contain  blankspaces").required("Field is required").min(6,"Minimum 6 Charachters"),full_name:c.g().required("Field is required").when("username",{is:function(e){return!!(e&&e.length>1)},then:c.g().not([c.f("username")],"Full name can not be username")}),country:c.d().required("Country is required"),phone_number:c.g().matches(/^(\+)[0-9]{7,16}$/,"Enter correct number!").required("Phone number is required"),bio:c.g().required("Bio is required").max(100,"Maximum 100 Charachters").when("username",{is:function(e){return!!(e&&e.length>1)},then:c.g().not([c.f("username")],"Bio name can not be username")}),image:c.c().required("Profile Image is required").test("fileSize","Maximum Size 5MB",(function(e){return e&&e.size<=s})).test("fileFormat","Invalid Image",(function(e){return e&&l.includes(e.type)}))}),c.e().shape({donee_notification:c.b().required("donee_notification is required"),account_activity:c.b().required("account_activity is required"),donee_activity:c.b().required("donee_activity is required"),achieved_goals:c.b().required("achieved_goals is required"),new_followers:c.b().required("new_followers is required"),NGO_role_assign:c.b().required("user_notification is required")})],b=[c.e().shape({username:c.g().matches(/^(\S+$)/,"This field cannot contain  blankspaces").required("Field is required").min(6,"Minimum 6 Charachters"),full_name:c.g().required("Field is required").when("username",{is:function(e){return!!(e&&e.length>1)},then:c.g().not([c.f("username")],"Full name can not be username")}),email:c.g().email().required("Email is required"),country:c.d().required("Country is required").min(1,"Minimum 1 Charachters"),phone_number:c.g().matches(/^(\+)[0-9]{7,16}$/,"Enter correct number!").required("Phone number is required"),bio:c.g().required("Bio is required").max(100,"Maximum 100 Charachters").when("email",{is:function(e){return!!(e&&e.length>1)},then:c.g().not([c.f("email")],"Bio name can not be email")}),image:c.c().required("Profile Image is required").test("fileSize","Maximum Size 5MB",(function(e){return e&&e.size<=s})).test("fileFormat","Invalid Image",(function(e){return e&&l.includes(e.type)})),sdgs:c.a().required("SDGS is Required").min(1,"Minimum 1 is Required")}),c.e().shape({donee_notification:c.b().required("donee_notification is required"),account_activity:c.b().required("account_activity is required"),donee_activity:c.b().required("donee_activity is required"),achieved_goals:c.b().required("achieved_goals is required"),new_followers:c.b().required("new_followers is required"),NGO_role_assign:c.b().required("user_notification is required")}),,c.e().shape({certification_incorporation:c.a(c.c().required("Certification incorporation Images is required").test("fileSize","Maximum Size 5MB",(function(e){return e.map((function(e){return e&&e.size<=s}))})).test("fileFormat","Invalid Image",(function(e){return e&&l.includes(e.type)}))).min(1,"1 file is minimum")})],p=[c.e().shape({username:c.g().matches(/^(\S+$)/,"This field cannot contain  blankspaces").required("Field is required").min(6,"Minimum 6 Charachters"),full_name:c.g().required("Field is required").when("username",{is:function(e){return!!(e&&e.length>1)},then:c.g().not([c.f("username")],"Full name can not be username")}),email:c.g().email().required("Email is required"),country:c.d().required("Country is required").min(1,"Minimum 1 Charachters"),phone_number:c.g().matches(/^(\+)[0-9]{7,16}$/,"Enter correct number!").required("Phone number is required"),bio:c.g().required("Bio is required").max(100,"Maximum 100 Charachters").when("email",{is:function(e){return!!(e&&e.length>1)},then:c.g().not([c.f("email")],"Bio name can not be email")}),image:c.c().required("Profile Image is required").test("fileSize","Maximum Size 5MB",(function(e){return e&&e.size<=s})).test("fileFormat","Invalid Image",(function(e){return e&&l.includes(e.type)})),sdgs:c.a().required("SDGS is Required").min(1,"Minimum 1 is Required")}),c.e().shape({donee_notification:c.b().required("donee_notification is required"),account_activity:c.b().required("account_activity is required"),donee_activity:c.b().required("donee_activity is required"),achieved_goals:c.b().required("achieved_goals is required"),new_followers:c.b().required("new_followers is required"),NGO_role_assign:c.b().required("user_notification is required")}),c.e().shape({id_front:c.c().required("ID front Image is required").test("fileSize","Maximum Size 5MB",(function(e){return e&&e.size<=s})).test("fileFormat","Invalid Image",(function(e){return e&&l.includes(e.type)})),id_back:c.c().required("ID back Image is required").test("fileSize","Maximum Size 5MB",(function(e){return e&&e.size<=s})).test("fileFormat","Invalid Image",(function(e){return e&&l.includes(e.type)}))})],j=u.a.formField,h=j.file,g=j.goalname,O=j.shortGoal,q=j.topics,v=j.product,x=j.productlink,w=j.productunitcost,y=j.productunitnumber,M=j.productsubtotal,E=j.productpgwfee,S=j.productngofee,_=j.productplatformfee,F=j.productgoaltotal,z=j.videofile,C=j.full_description,I=["video/mp4","video/mov"],P=[c.e().shape((n={},Object(o.a)(n,h.name,c.c().required(h.requiredErrorMsg).test("fileSize",h.fileMaxError,(function(e){return e&&e.size<=s})).test("fileFormat",h.fileFormatError,(function(e){return e&&l.includes(e.type)}))),Object(o.a)(n,g.name,c.g().required(g.requiredErrorMsg).min(10,g.minError).max(25,g.maxError)),Object(o.a)(n,O.name,c.g().required(O.requiredErrorMsg)),Object(o.a)(n,q.name,c.a().required(q.requiredErrorMsg).min(1,q.minError)),n)),c.e().shape((i={},Object(o.a)(i,v.name,c.g().required(v.requiredErrorMsg)),Object(o.a)(i,x.name,c.g().matches(/^(?:(?:(?:https?|ftp):)?\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})))(?::\d{2,5})?(?:[/?#]\S*)?$/,"Enter correct url!")),Object(o.a)(i,w.name,c.d().min(1,w.minError).required(w.requiredErrorMsg)),Object(o.a)(i,y.name,c.d().min(1,y.minError).required(y.requiredErrorMsg)),Object(o.a)(i,M.name,c.d().required(M.requiredErrorMsg)),Object(o.a)(i,E.name,c.d().required(E.requiredErrorMsg)),Object(o.a)(i,S.name,c.d().required(S.requiredErrorMsg)),Object(o.a)(i,_.name,c.d().required(_.requiredErrorMsg)),Object(o.a)(i,F.name,c.d().required(F.requiredErrorMsg)),i)),c.e().shape((a={},Object(o.a)(a,z.name,c.a(c.c().required(z.requiredErrorMsg).test("fileSize",z.fileMaxError,(function(e){return e&&e.size<=25e7})).test("fileFormat",z.fileFormatError,(function(e){return e&&I.includes(e.type)}))).min(1,"1 video is minimum")),Object(o.a)(a,C.name,c.g().required(C.requiredErrorMsg)),a))]},2062:function(e,r,t){"use strict";var n=t(9),i=(t(1),t(2012)),a=t(0);r.a=function(e){var r=e.field,t=e.form,o=e.label,c=e.type,u=e.placeholder,s=t.touched,l=t.errors;return Object(a.jsx)(i.a,Object(n.a)({id:"outlined-full-width Bio",multiline:!0,rows:4,fullWidth:!0,variant:"outlined",InputLabelProps:{shrink:!0},placeholder:u,type:c,helperText:function(){if(s[r.name]&&l[r.name])return l[r.name]}(),error:Boolean(s[r.name]&&l[r.name]),label:o},r))}},2072:function(e,r,t){"use strict";t(1);var n=t(188),i=t(66),a=t(344),o=t(2115),c=t(0);r.a=function(e){var r=e.placeholder,t=e.field,i=e.form,a=e.options,s=e.isMulti,l=void 0!==s&&s,d=i.touched,m=i.errors;return Object(c.jsxs)(n.a,{direction:"column",justifyContent:"center",alignItems:"center",spacing:3,children:[Object(c.jsx)(o.a,{name:t.name,value:a?l?a.filter((function(e){return t.value.indexOf(e.value)>=0})):a.find((function(e){return e.value===t.value})):l?[]:"",onChange:function(e){i.setFieldValue(t.name,l?e.map((function(e){return e.value})):e.value),i.setFieldValue("topic",l?e.map((function(e){return e.label})):e.value)},placeholder:r,options:a,isMulti:l,closeMenuOnSelect:!1}),d[t.name]&&m[t.name]&&Object(c.jsx)(u,{variant:"body1",children:m[t.name]})]})};var u=Object(a.a)(i.a)({color:"red",fontSize:12})},2110:function(e,r){r.__esModule=!0,r.default={body:'<path d="M518.3 459a8 8 0 0 0-12.6 0l-112 141.7a7.98 7.98 0 0 0 6.3 12.9h73.9V856c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V613.7H624c6.7 0 10.4-7.7 6.3-12.9L518.3 459z" fill="currentColor"/><path d="M811.4 366.7C765.6 245.9 648.9 160 512.2 160S258.8 245.8 213 366.6C127.3 389.1 64 467.2 64 560c0 110.5 89.5 200 199.9 200H304c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8h-40.1c-33.7 0-65.4-13.4-89-37.7c-23.5-24.2-36-56.8-34.9-90.6c.9-26.4 9.9-51.2 26.2-72.1c16.7-21.3 40.1-36.8 66.1-43.7l37.9-9.9l13.9-36.6c8.6-22.8 20.6-44.1 35.7-63.4a245.6 245.6 0 0 1 52.4-49.9c41.1-28.9 89.5-44.2 140-44.2s98.9 15.3 140 44.2c19.9 14 37.5 30.8 52.4 49.9c15.1 19.3 27.1 40.7 35.7 63.4l13.8 36.5l37.8 10C846.1 454.5 884 503.8 884 560c0 33.1-12.9 64.3-36.3 87.7a123.07 123.07 0 0 1-87.6 36.3H720c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h40.1C870.5 760 960 670.5 960 560c0-92.7-63.1-170.7-148.6-193.3z" fill="currentColor"/>',width:1024,height:1024}},2308:function(e,r){r.__esModule=!0,r.default={body:'<path d="M553.1 509.1l-77.8 99.2l-41.1-52.4a8 8 0 0 0-12.6 0l-99.8 127.2a7.98 7.98 0 0 0 6.3 12.9H696c6.7 0 10.4-7.7 6.3-12.9l-136.5-174a8.1 8.1 0 0 0-12.7 0zM360 442a40 40 0 1 0 80 0a40 40 0 1 0-80 0zm494.6-153.4L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM790.2 326H602V137.8L790.2 326zm1.8 562H232V136h302v216a42 42 0 0 0 42 42h216v494z" fill="currentColor"/>',width:1024,height:1024}},2309:function(e,r){r.__esModule=!0,r.default={body:'<path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448s448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372s372 166.6 372 372s-166.6 372-372 372zm47.7-395.2l-25.4-5.9V348.6c38 5.2 61.5 29 65.5 58.2c.5 4 3.9 6.9 7.9 6.9h44.9c4.7 0 8.4-4.1 8-8.8c-6.1-62.3-57.4-102.3-125.9-109.2V263c0-4.4-3.6-8-8-8h-28.1c-4.4 0-8 3.6-8 8v33c-70.8 6.9-126.2 46-126.2 119c0 67.6 49.8 100.2 102.1 112.7l24.7 6.3v142.7c-44.2-5.9-69-29.5-74.1-61.3c-.6-3.8-4-6.6-7.9-6.6H363c-4.7 0-8.4 4-8 8.7c4.5 55 46.2 105.6 135.2 112.1V761c0 4.4 3.6 8 8 8h28.4c4.4 0 8-3.6 8-8.1l-.2-31.7c78.3-6.9 134.3-48.8 134.3-124c-.1-69.4-44.2-100.4-109-116.4zm-68.6-16.2c-5.6-1.6-10.3-3.1-15-5c-33.8-12.2-49.5-31.9-49.5-57.3c0-36.3 27.5-57 64.5-61.7v124zM534.3 677V543.3c3.1.9 5.9 1.6 8.8 2.2c47.3 14.4 63.2 34.4 63.2 65.1c0 39.1-29.4 62.6-72 66.4z" fill="currentColor"/>',width:1024,height:1024}},2350:function(e,r,t){"use strict";t.r(r),t.d(r,"renderStepContent",(function(){return pe}));var n=t(10),i=t.n(n),a=t(18),o=t(8),c=t(191),u=t(1959),s=t(188),l=t(234),d=t(2007),m=t(1),f=t.n(m),b=t(2035),p=t(2359),j=t(2370),h=t(2357),g=t(0),O=function(e){var r=e.activeStep,t=e.steps;return Object(g.jsx)(s.a,{direction:"column",justifyContent:"center",alignItems:"center",spacing:2,children:Object(g.jsx)(p.a,{activeStep:r,alternativeLabel:!0,children:t.map((function(e){return Object(g.jsx)(j.a,{children:Object(g.jsx)(h.a,{children:e.label})},e.label)}))})})},q=t(9),v=t(2012),x=t(67),w=t(34),y=t(38),M=function(e){var r=e.field,t=e.form,n=e.label,o=e.type,c=t.touched,u=t.errors,s=Object(b.e)(),l=s.values,d=s.setFieldValue,f=Object(y.c)((function(e){var r;return null===(r=e.AuthReducer.userInfo.user_profile)||void 0===r?void 0:r.profile_type})),p=Object(x.a)(),j=Object(w.useQuery)(["getPercentages"],Object(a.a)(i.a.mark((function e(){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.get("/get-percentages/");case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)})))),h=j.data,O=(j.isLoading,j.isError,j.error,h?h[0]:""),M=O?O.pgw:0,E=O?O.ngo:0;"NGO"===f&&(E=0);var S=O?O.platform:0;return Object(m.useEffect)((function(){var e=l.unitnumber*l.unitcost,r=parseFloat((e*M/100).toFixed(2)),t=+(e*E/100).toFixed(2),n=+(e*S/100).toFixed(2),i=+(e+r+t+n).toFixed(2);d("productsubtotal",e),d("productpgwfee",r),d("productngofee",t),d("productplatformfee",n),d("productgoaltotal",i)}),[l.unitnumber,l.unitcost]),Object(g.jsx)(v.a,Object(q.a)({fullWidth:!0,variant:"outlined",type:o,helperText:function(){if(c[r.name]&&u[r.name])return u[r.name]}(),error:Boolean(c[r.name]&&u[r.name]),label:n},r))},E=t(70),S=t(79),_=["errorText"],F=function(e){e.errorText;var r=Object(E.a)(e,_),t=Object(b.d)(e.defaultProps.name||""),n=Object(o.a)(t,2),i=n[0],a=n[1];return Object(g.jsx)(v.a,Object(q.a)(Object(q.a)({fullWidth:!0,multiline:!0,rows:3,type:"text",error:Boolean(a.touched&&a.error&&!0),helperText:function(){var e=Object(S.at)(a,"touched","error"),r=Object(o.a)(e,2),t=r[0],n=r[1];if(t&&n)return n}()},i),r.defaultProps))},z=t(2065),C=t(344),I=t(33),P=t(2308),G=t.n(P),k=t(66),B=t(126),V=t(84),T=t(351),R=t(92),N=t(127),D=function(e){var r=e.field,t=e.form,n=Object(y.c)((function(e){return e.AuthReducer.userInfo.access})),c=Object(x.a)(),u=Object(w.useQuery)(["doneNgoInfo",n],Object(a.a)(i.a.mark((function e(){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.get("/profile-detail/");case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)})))),l=u.data,d=u.isLoading,p=u.isError,j=u.error,h=(u.isSuccess,Object(z.a)({maxFiles:1})),O=h.acceptedFiles,v=h.getRootProps,M=h.getInputProps,E=t.errors,S=t.isValid,_=Object(b.e)().setFieldValue,F=f.a.useState(""),C=Object(o.a)(F,2),P=C[0],B=C[1];return Object(m.useEffect)((function(){_("file",O[0]),0!==O.length&&null!==(null===l||void 0===l?void 0:l.id)&&t.setFieldValue("profile",null===l||void 0===l?void 0:l.id)}),[O,S]),Object(m.useEffect)((function(){r.value&&B(URL.createObjectURL(r.value))}),[r.value]),Object(g.jsx)(T.a,{children:!1===d?Object(g.jsx)("div",{children:p?Object(g.jsx)(R.a,{error:j||new Error("Network response was not ok.")}):Object(g.jsxs)(s.a,Object(q.a)(Object(q.a)({direction:"column",justifyContent:"center",alignItems:"center",spacing:1},v({className:"dropzone"})),{},{children:[Object(g.jsxs)("div",{children:[Object(g.jsx)("input",Object(q.a)({},M())),Object(g.jsx)(L,{children:""!==P?Object(g.jsx)(A,{src:P,alt:"prodform"}):Object(g.jsx)(I.a,{icon:G.a,fontSize:80,color:V.a.primary.main})})]}),Object(g.jsxs)(k.a,{variant:"subtitle1",children:["Drag and drop or ",Object(g.jsx)(H,{children:"Browse Goal Picture"})]}),E[r.name]&&Object(g.jsx)(U,{variant:"body1",children:E[r.name]})]}))}):Object(g.jsx)(N.a,{})})},L=Object(C.a)(B.a)({width:120,height:120,justifyContent:"center",alignItems:"center",display:"flex"}),U=Object(C.a)(k.a)({color:"red",fontSize:12}),A=Object(C.a)("img")({height:120,width:80}),H=Object(C.a)("span")({color:"#007AFF"}),W=t(2045),$=t(2072);function Q(){var e=W.a.formField,r=e.file,t=e.shortGoal,n=e.goalname,c=Object(y.c)((function(e){return e.AuthReducer.userInfo.access})),u=Object(x.a)(),l=Object(w.useQuery)(["getSdgs",c],Object(a.a)(i.a.mark((function e(){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.get("/sdgs-list/");case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)})))),d=l.data,f=l.isLoading,p=l.isError,j=l.error,h=Object(m.useState)([]),O=Object(o.a)(h,2),q=O[0],v=O[1];return Object(m.useEffect)((function(){if(d&&(null===d||void 0===d?void 0:d.length)>1){var e=d.map((function(e){return{value:e.id,label:e.title}}));v(e)}}),[d]),f?Object(g.jsx)(N.a,{}):Object(g.jsx)(T.a,{children:!1===f?Object(g.jsx)("div",{children:p?Object(g.jsx)(R.a,{error:j||new Error("Network response was not ok.")}):Object(g.jsxs)(s.a,{spacing:3,children:[Object(g.jsx)(b.a,{name:r.name,component:D,label:r.label,type:"input"}),Object(g.jsx)(b.a,{name:n.name,component:M,label:n.label,type:"text"}),Object(g.jsx)(F,{defaultProps:{name:t.name,label:t.label,fullWidth:!0}}),q.length>0&&Object(g.jsx)(b.a,{name:"sdgs",options:q,component:$.a,placeholder:"Select SDGS",isMulti:!0})]})}):Object(g.jsx)(N.a,{})})}var J=t(2024),K=t(2309),X=t.n(K),Y=function(e){var r=e.field,t=e.form,n=e.label,i=t.touched,a=t.errors;return Object(g.jsx)(v.a,Object(q.a)({fullWidth:!0,variant:"filled",disabled:!0,helperText:function(){if(i[r.name]&&a[r.name])return a[r.name]}(),error:Boolean(i[r.name]&&a[r.name]),label:n,InputProps:{startAdornment:Object(g.jsx)(J.a,{position:"start",children:Object(g.jsx)(I.a,{icon:X.a,color:V.a.success.main,fontSize:20})})}},r))};function Z(){var e=W.a.formField,r=e.product,t=e.productlink,n=e.productunitcost,c=e.productunitnumber,u=e.productsubtotal,l=e.productgoaltotal,d=e.productpgwfee,m=e.productngofee,p=e.productplatformfee,j=Object(b.e)().values,h=f.a.useState(""),O=Object(o.a)(h,2),q=(O[0],O[1],Object(y.c)((function(e){var r;return null===(r=e.AuthReducer.userInfo.user_profile)||void 0===r?void 0:r.profile_type}))),v=Object(x.a)(),E=Object(w.useQuery)(["getPercentages"],Object(a.a)(i.a.mark((function e(){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.get("/get-percentages/");case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)})))),S=E.data,_=(E.isLoading,E.isError,E.error,S?S[0]:""),F=_?_.pgw:0,z=_?_.ngo:0;"NGO"===q&&(z=0);var C=_?_.platform:0;return Object(g.jsxs)(s.a,{direction:"column",justifyContent:"center",alignItems:"center",spacing:3,sx:{padding:5,width:350},children:[Object(g.jsx)(k.a,{variant:"subtitle1",children:j.goalname}),Object(g.jsx)(k.a,{variant:"caption",children:j.shortGoal}),Object(g.jsx)(b.a,{name:r.name,component:M,label:r.label,type:"text"}),Object(g.jsx)(b.a,{name:t.name,component:M,label:t.label,type:"text"}),Object(g.jsx)(b.a,{name:n.name,component:M,label:n.label,type:"number"}),Object(g.jsx)(b.a,{name:c.name,component:M,label:c.label,type:"number"}),Object(g.jsx)(b.a,{name:u.name,component:Y,label:u.label,type:"number"}),Object(g.jsx)(b.a,{name:d.name,component:Y,label:"PGW fee ".concat(F,"%"),type:"number"}),Object(g.jsx)(b.a,{name:m.name,component:Y,label:"NGO fee ".concat(z,"%"),type:"number"}),Object(g.jsx)(b.a,{name:p.name,component:Y,label:"Platform fee ".concat(C,"%"),type:"number"}),Object(g.jsx)(b.a,{name:l.name,component:Y,label:l.label,type:"number"})]})}Object(C.a)("img")({height:120,width:80});var ee=t(2062),re=t(2110),te=t.n(re),ne=Object(C.a)(B.a)({backgroundColor:"#CED4DA",width:300,minHeight:150,borderRadius:11,justifyContent:"center",alignItems:"center",display:"flex",flexDirection:"column"}),ie=Object(C.a)(k.a)({color:"red",fontSize:12}),ae=Object(C.a)("span")({color:"#007AFF"}),oe=function(e){var r=e.field,t=e.form,n=Object(z.a)({maxFiles:5}),c=n.acceptedFiles,u=n.getRootProps,l=n.getInputProps,d=t.errors,f=(t.isValid,Object(m.useState)(null)),p=Object(o.a)(f,2),j=p[0],h=p[1],O=Object(b.e)().setFieldValue,v=function(e){return new Promise((function(r,t){try{var n=document.createElement("video");n.preload="metadata",n.onloadedmetadata=function(){r(this)},n.onerror=function(){t("Invalid video. Please select a video file.")},n.src=window.URL.createObjectURL(e)}catch(i){t(i)}}))},x=function(){var e=Object(a.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{c.map(function(){var e=Object(a.a)(i.a.mark((function e(r){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v(r);case 2:e.sent.duration>=20?h("Video duration must be less than 20 or equal 20 seconds"):(h(null),O("videofile",c));case 4:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}())}catch(r){}case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(m.useEffect)((function(){x()}),[c]),Object(g.jsx)(s.a,{direction:"column",justifyContent:"center",alignItems:"center",spacing:3,children:Object(g.jsxs)("div",Object(q.a)(Object(q.a)({},u({className:"dropzone"})),{},{children:[Object(g.jsx)("input",Object(q.a)({},l())),Object(g.jsxs)(ne,{children:[Object(g.jsx)(I.a,{icon:te.a,fontSize:50,color:"#007AFF"}),Object(g.jsxs)(k.a,{variant:"subtitle1",children:["Drag and Drop"," ",Object(g.jsx)(ae,{children:"Browse a unique 20 sec video of your goal to make it viral!"})]}),Object(g.jsx)(k.a,{variant:"caption",color:V.a.grey[600],children:"Max Duration 20 seconds and Size 100 MB"}),r.value&&r.value.length>0&&null===j&&r.value.map((function(e){return Object(g.jsx)(k.a,{variant:"caption",color:V.a.warning.dark,children:e.name})})),null!==j&&Object(g.jsx)(ie,{children:j}),d.videofile&&Object(g.jsx)(ie,{children:d.videofile})]})]}))})};function ce(){var e=W.a.formField,r=e.videofile,t=e.full_description;return Object(g.jsxs)(s.a,{direction:"column",justifyContent:"center",alignItems:"center",spacing:3,sx:{padding:5,width:350},children:[Object(g.jsx)(b.a,{name:r.name,component:oe,label:r.label,type:"input"}),Object(g.jsx)(b.a,{name:t.name,component:ee.a,label:t.label})]})}var ue=t(2006),se=t(128),le=t(2048),de=t(81),me=t(25),fe=t(68),be=t(82),pe=(r.default=function(){var e=Object(m.useRef)(null),r=Object(m.useRef)(null),t=Object(me.g)(),n=Object(y.c)((function(e){return e.AuthReducer.userInfo.access})),f=Object(w.useMutation)((function(e){return Object(de.f)(e,n)})),p=Object(m.useState)(se.b),j=Object(o.a)(p,2),h=j[0],q=j[1],v=f.isLoading,x=f.isError,M=f.isSuccess,E=f.data,S=Object(m.useState)(0),_=Object(o.a)(S,2),F=_[0],z=_[1],C=le.f[F],I=2===F,P=function(e){return new Promise((function(r){return setTimeout(r,e)}))},G=function(){var e=Object(a.a)(i.a.mark((function e(r,t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P(200);case 2:q(r),f.mutate(r),t.setSubmitting(!1);case 5:case"end":return e.stop()}}),e)})));return function(r,t){return e.apply(this,arguments)}}();return Object(m.useEffect)((function(){return M&&void 0!==E&&("string"===typeof E.pgw_amount&&"string"===typeof E.title?(!function(e){var t;null===(t=r.current)||void 0===t||t.call(r,e)}("Goal Creation Successful"),setTimeout((function(){t("../")}),3e3)):function(r){var t;null===(t=e.current)||void 0===t||t.call(e,r)}("Goal Creation Failed")),function(){!0}}),[x,M]),v?Object(g.jsx)(N.a,{}):Object(g.jsxs)("div",{children:[Object(g.jsx)(fe.a,{children:function(r){e.current=r}}),Object(g.jsx)(be.a,{children:function(e){r.current=e}}),Object(g.jsx)(c.a,{component:"main",maxWidth:"sm",sx:{mb:4},children:Object(g.jsxs)(u.a,{variant:"outlined",sx:{my:{xs:3,md:6},p:{xs:2,md:3}},children:[Object(g.jsx)(O,{activeStep:F,steps:[{label:"Goal Information",done:!0},{label:"Goal Description",done:!1},{label:"Goal Video",done:!1}]}),Object(g.jsx)(b.c,{initialValues:h,validationSchema:C,onSubmit:function(e,r){I?G(e,r):(z((function(e){return e+1})),r.setTouched({}),r.setSubmitting(!1))},children:function(e){return Object(g.jsx)(b.b,{children:Object(g.jsxs)(s.a,{spacing:2,children:[pe(F),Object(g.jsxs)(ue.a,{sx:{display:"flex",justifyContent:"flex-end"},children:[F>0&&Object(g.jsx)(l.a,{onClick:function(){return z((function(e){return e-1}))},children:"Back"}),Object(g.jsx)(l.a,{type:"submit",variant:"contained",color:"primary",disabled:e.isSubmitting,children:I?"Create Goal":"Next"}),e.isSubmitting&&Object(g.jsx)(d.a,{})]})]})})}})]})})]})},function(e){switch(e){case 0:return Object(g.jsx)(Q,{});case 1:return Object(g.jsx)(Z,{});case 2:return Object(g.jsx)(ce,{})}})}}]);
//# sourceMappingURL=25.1ce6705c.chunk.js.map