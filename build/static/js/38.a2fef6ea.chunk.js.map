{"version":3,"sources":["redux/actions/saveNgoProfileIDaction.ts","screen/Authentication/VerifyDoneeInvitation/index.tsx"],"names":["saveNgoProfileIDaction","profileID","dispatch","type","SAVE_NGO_PROFILEID_ACTION","payload","VerifyDoneeInvitation","useDispatch","navigate","useNavigate","refError","useRef","refSuccess","state","useSelector","AuthReducer","pathname","useLocation","useState","explode","setExplode","useEffect","matchArray","match","RegExp","VERIFY_DONE_INVITE_API","then","response","console","log","ngo_profile_id","msg","current","handleCreateSucess","setTimeout","inivtitationCode","isLoggedIn","userInfo","is_account_created","error","handleCreateError","catch","err","JSON","stringify","message","fallbackRender","resetErrorBoundary","onReset","resetKeys","children","add","display","justifyContent","alignItems","variant"],"mappings":"kGAAA,8CAEaA,EAAyB,SAACC,GACrC,OAAO,SAACC,GACNA,EAAS,CACPC,KAAMC,IACNC,QAASJ,O,gKC4GAK,UA/Fe,WAC5B,IAAMJ,EAAWK,cACXC,EAAWC,cACXC,EAAWC,iBAA2B,MACtCC,EAAaD,iBAA2B,MAExCE,EAAQC,aAAY,SAACD,GAAD,OAAyBA,EAAME,eACjDC,EAAaC,cAAbD,SACR,EAA8BE,oBAAS,GAAvC,mBAAOC,EAAP,KAAgBC,EAAhB,KAsDA,OA5CAC,qBAAU,WACR,IAEIC,EAA+C,OAFzCN,QAEyC,IAFzCA,OAEyC,EAFzCA,EAEiDO,MACzD,IAAIC,OAAO,iCAETF,GACEA,EAAW,IACbG,YAAuBH,EAAW,IAC/BI,MAAK,SAACC,GACLC,QAAQC,IAAIF,GACRA,EAASG,iBAfI,SAACC,GAAiB,IAAD,EAC1C,UAAAnB,EAAWoB,eAAX,cAAApB,EAAqBmB,GAeXE,CAAmB,4BACnB/B,EAASF,YAAuB2B,EAASG,iBACzCI,YAAW,WAET,IAAMC,EAAmBb,EAAW,GAChCT,EAAMuB,WACJvB,EAAMwB,SAASC,mBACjB9B,EAAS,2BAA4B,CACnCK,MAAO,CAAEsB,sBAGX3B,EAAS,2BAA4B,CACnCK,MAAO,CAAEsB,sBAIb3B,EAAS,cAAe,CACtBK,MAAO,CAAEsB,wBAGZ,OACyB,mCAAnBR,EAASY,OAzCJ,SAACR,GAAiB,IAAD,EACzC,UAAArB,EAASsB,eAAT,cAAAtB,EAAmBqB,GAyCTS,CAAkB,+CAGrBC,OAAM,SAACC,GACN,MAAM,IAAIA,EAAIC,KAAKC,UAAUF,EAAIG,eAIxC,IAGD,cAAC,gBAAD,CACEC,eAAgB,gBAAGP,EAAH,EAAGA,MAAOQ,EAAV,EAAUA,mBAAV,OACd,cAAC,IAAD,CACER,MAAOA,EACPQ,mBAAoBA,KAGxBC,QAAS,kBAAM5B,GAAW,IAC1B6B,UAAW,CAAC9B,GARd,SAUE,gCACE,cAAC,IAAD,CACE+B,SAAU,SAACC,GACTzC,EAASsB,QAAUmB,KAGvB,cAAC,IAAD,CACED,SAAU,SAACC,GACTvC,EAAWoB,QAAUmB,KAGzB,cAAC,IAAD,CAAKC,QAAQ,OAAOC,eAAe,SAASC,WAAW,SAAvD,SACE,cAAC,IAAD,CAAYC,QAAQ,KAApB,+DAIF,cAAC,IAAD","file":"static/js/38.a2fef6ea.chunk.js","sourcesContent":["import { SAVE_NGO_PROFILEID_ACTION } from \"../types\";\n\nexport const saveNgoProfileIDaction = (profileID: string) => {\n  return (dispatch: (arg0: { type: string; payload: string }) => void) => {\n    dispatch({\n      type: SAVE_NGO_PROFILEID_ACTION,\n      payload: profileID,\n    });\n  };\n};\n","import { Typography, Box } from \"@material-ui/core\";\nimport React, { useEffect, useRef, useState } from \"react\";\nimport { ErrorBoundary } from \"react-error-boundary\";\n\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { useLocation, useNavigate } from \"react-router\";\nimport { MessageError } from \"../../../components/AlertMessageError\";\nimport { MessageSuccess } from \"../../../components/AlertMessageSuccess\";\n\nimport Loader from \"../../../components/Loader\";\nimport { saveNgoProfileIDaction } from \"../../../redux/actions/saveNgoProfileIDaction\";\nimport { VERIFY_DONE_INVITE_API } from \"../../../utils/Api\";\nimport {\n  AddFunction,\n  RootAppState,\n  VerifyInvitationProps,\n} from \"../../../utils/typeHelpers\";\nimport PageErrorBoundary from \"../../Errror/PageErrorBoundary\";\n\nconst VerifyDoneeInvitation = () => {\n  const dispatch = useDispatch();\n  const navigate = useNavigate();\n  const refError = useRef<null | AddFunction>(null);\n  const refSuccess = useRef<null | AddFunction>(null);\n\n  const state = useSelector((state: RootAppState) => state.AuthReducer);\n  const { pathname } = useLocation();\n  const [explode, setExplode] = useState(false);\n\n  const handleCreateError = (msg: string) => {\n    refError.current?.(msg);\n  };\n\n  const handleCreateSucess = (msg: string) => {\n    refSuccess.current?.(msg);\n  };\n\n  useEffect(() => {\n    var str = pathname;\n\n    var matchArray: RegExpMatchArray | null | undefined = str?.match(\n      new RegExp(\"verifydoneeinvite/id=([^/]+)\")\n    );\n    if (matchArray) {\n      if (matchArray[1]) {\n        VERIFY_DONE_INVITE_API(matchArray[1])\n          .then((response: VerifyInvitationProps) => {\n            console.log(response);\n            if (response.ngo_profile_id) {\n              handleCreateSucess(\"Validation is Successful\");\n              dispatch(saveNgoProfileIDaction(response.ngo_profile_id));\n              setTimeout(() => {\n                // @ts-ignore: Object is possibly 'null'.\n                const inivtitationCode = matchArray[1]!;\n                if (state.isLoggedIn) {\n                  if (state.userInfo.is_account_created) {\n                    navigate(\"../../createprofiledonee\", {\n                      state: { inivtitationCode },\n                    });\n                  } else {\n                    navigate(\"../../createprofiledonor\", {\n                      state: { inivtitationCode },\n                    });\n                  }\n                } else {\n                  navigate(\"../../login\", {\n                    state: { inivtitationCode },\n                  });\n                }\n              }, 1500);\n            } else if (response.error === \"400 invitation not code found.\") {\n              handleCreateError(\"Validation is Failed,Wrong Referral Code\");\n            }\n          })\n          .catch((err: any) => {\n            throw new err(JSON.stringify(err.message));\n          });\n      }\n    }\n  }, []);\n\n  return (\n    <ErrorBoundary\n      fallbackRender={({ error, resetErrorBoundary }) => (\n        <PageErrorBoundary\n          error={error}\n          resetErrorBoundary={resetErrorBoundary}\n        />\n      )}\n      onReset={() => setExplode(false)}\n      resetKeys={[explode]}\n    >\n      <div>\n        <MessageError\n          children={(add: AddFunction) => {\n            refError.current = add;\n          }}\n        />\n        <MessageSuccess\n          children={(add: AddFunction) => {\n            refSuccess.current = add;\n          }}\n        />\n        <Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n          <Typography variant=\"h6\">\n            Please wait your inivitaion is being validated!\n          </Typography>\n        </Box>\n        <Loader />\n      </div>\n    </ErrorBoundary>\n  );\n};\n\nexport default VerifyDoneeInvitation;\n"],"sourceRoot":""}